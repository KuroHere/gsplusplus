/*
 * Decompiled with CFR 0.152.
 */
package com.gamesense.client.module.modules.exploits;

import com.gamesense.api.event.events.PacketEvent;
import com.gamesense.api.setting.values.BooleanSetting;
import com.gamesense.api.setting.values.IntegerSetting;
import com.gamesense.api.util.misc.MessageBus;
import com.gamesense.client.module.Category;
import com.gamesense.client.module.Module;
import java.util.Objects;
import java.util.function.Predicate;
import me.zero.alpine.listener.EventHandler;
import me.zero.alpine.listener.Listener;
import net.minecraft.entity.player.EntityPlayer;
import net.minecraft.network.play.server.SPacketEffect;
import net.minecraft.network.play.server.SPacketEntityTeleport;

@Module.Declaration(name="CoordinateExploit", category=Category.Exploits)
public class CoordinateExploit
extends Module {
    BooleanSetting sound = this.registerBoolean("Sound Pos", false);
    BooleanSetting tp = this.registerBoolean("Teleport Pos", false);
    IntegerSetting min = this.registerInteger("Min Distance", 500, 128, 1000);
    @EventHandler
    private final Listener<PacketEvent.Receive> receiveListener = new Listener<PacketEvent.Receive>(event -> {
        SPacketEffect sp;
        SPacketEntityTeleport et;
        if (event.getPacket() instanceof SPacketEntityTeleport && ((Boolean)this.tp.getValue()).booleanValue() && CoordinateExploit.mc.field_71441_e.func_73045_a((et = (SPacketEntityTeleport)event.getPacket()).func_149451_c()) instanceof EntityPlayer && CoordinateExploit.mc.field_71439_g.func_70011_f(et.func_186982_b(), et.func_186983_c(), et.func_186981_d()) > (double)((Integer)this.min.getValue()).intValue()) {
            MessageBus.sendClientPrefixMessage("Player " + Objects.requireNonNull(CoordinateExploit.mc.field_71441_e.func_73045_a(et.func_149451_c())).func_145748_c_() + " In Render Distance Teleported to: [" + Math.round(et.func_186982_b()) + ", " + Math.round(et.func_186983_c()) + ", " + Math.round(et.func_186981_d()) + "]");
        }
        if (event.getPacket() instanceof SPacketEffect && ((Boolean)this.sound.getValue()).booleanValue() && CoordinateExploit.mc.field_71439_g.func_70011_f((double)(sp = (SPacketEffect)event.getPacket()).func_179746_d().func_177958_n(), (double)sp.func_179746_d().func_177956_o(), (double)sp.func_179746_d().func_177952_p()) > (double)((Integer)this.min.getValue()).intValue()) {
            switch (sp.func_149242_d()) {
                case 1023: {
                    MessageBus.sendClientPrefixMessage("Wither spawned at: [" + sp.field_179747_b + "]");
                    break;
                }
                case 1028: {
                    MessageBus.sendClientPrefixMessage("End dragon spawned at: [" + sp.field_179747_b + "]");
                    break;
                }
                case 1038: {
                    MessageBus.sendClientPrefixMessage("Portal opened at: [" + sp.field_179747_b + "]");
                }
            }
        }
    }, new Predicate[0]);
}

